<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa3d Marlin fork: G-Code List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Prusa3d Marlin fork
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">G-Code List</div>  </div>
</div><!--header-->
<div class="contents">
<p><em>This is a list of currently implemented G Codes in Prusa firmware (dynamically generated from doxygen).</em></p>
<p>They are shown in order of appearance in the code. There are reasons why some G Codes aren't in numerical order.</p>
<h3>Special internal commands</h3>
<p>These are used by internal functions to process certain actions in the right order. Some of these are also usable by the user. They are processed early as the commands are complex (strings). These are only available on the MK3(S) as these require TMC2130 drivers:</p><ul>
<li>CRASH DETECTED</li>
<li>CRASH RECOVER</li>
<li>CRASH_CANCEL</li>
<li>TMC_SET_WAVE</li>
<li>TMC_SET_STEP</li>
<li>TMC_SET_CHOP</li>
</ul>
<hr  />
 <h3>PRUSA - Internal command set <a href="https://reprap.org/wiki/G-code#G98:_Activate_farm_mode">G98: Activate farm mode - Notes</a></h3>
<p>Set of internal PRUSA commands </p><h4>Usage</h4>
<p>PRUSA [ PRN | FAN | thx | uvlo | MMURES | RESET | fv | M28 | SN | Fir | Rev | Lang | Lz | FR ]</p>
<h4>Parameters</h4>
<ul>
<li><code>PRN</code> - Prints revision of the printer</li>
<li><code>FAN</code> - Prints fan details</li>
<li><code>thx</code></li>
<li><code>uvlo</code></li>
<li><code>MMURES</code> - Reset MMU</li>
<li><code>RESET</code> - (Careful!)</li>
<li><code>fv</code> - ?</li>
<li><code>M28</code></li>
<li><code>SN</code></li>
<li><code>Fir</code> - Prints firmware version</li>
<li><code>Rev</code>- Prints filament size, elelectronics, nozzle type</li>
<li><code>Lang</code> - Reset the language</li>
<li><code>Lz</code></li>
<li><code>FR</code> - Full factory reset</li>
<li><code>nozzle set &lt;diameter&gt;</code> - set nozzle diameter (farm mode only), e.g. <code>PRUSA nozzle set 0.4</code></li>
<li><code>nozzle D&lt;diameter&gt;</code> - check the nozzle diameter (farm mode only), works like M862.1 P, e.g. <code>PRUSA nozzle D0.4</code></li>
<li><code>nozzle</code> - prints nozzle diameter (farm mode only), works like M862.1 P, e.g. <code>PRUSA nozzle</code></li>
</ul>
<hr  />
 <h1>G Codes</h1>
<h3>G0, G1 - Coordinated movement X Y Z E <a href="https://reprap.org/wiki/G-code#G0_.26_G1:_Move">G0 &amp; G1: Move</a></h3>
<p>In Prusa Firmware G0 and G1 are the same. </p><h4>Usage</h4>
<pre class="fragment">  G0 [ X | Y | Z | E | F | S ]
  G1 [ X | Y | Z | E | F | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - The position to move to on the X axis</li>
<li><code>Y</code> - The position to move to on the Y axis</li>
<li><code>Z</code> - The position to move to on the Z axis</li>
<li><code>E</code> - The amount to extrude between the starting point and ending point</li>
<li><code>F</code> - The feedrate per minute of the move between the starting point and ending point (if supplied)</li>
</ul>
<h3>G2, G3 - Controlled Arc Move <a href="https://reprap.org/wiki/G-code#G2_.26_G3:_Controlled_Arc_Move">G2 &amp; G3: Controlled Arc Move</a></h3>
<p>These commands don't propperly work with MBL enabled. The compensation only happens at the end of the move, so avoid long arcs.</p>
<h4>Usage</h4>
<pre class="fragment">  G2 [ X | Y | I | E | F ] (Clockwise Arc)
  G3 [ X | Y | I | E | F ] (Counter-Clockwise Arc)
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - The position to move to on the X axis</li>
<li><code>Y</code> - The position to move to on the Y axis</li>
<li>'Z' - The position to move to on the Z axis</li>
<li><code>I</code> - The point in X space from the current X position to maintain a constant distance from</li>
<li><code>J</code> - The point in Y space from the current Y position to maintain a constant distance from</li>
<li><code>E</code> - The amount to extrude between the starting point and ending point</li>
<li><code>F</code> - The feedrate per minute of the move between the starting point and ending point (if supplied)</li>
</ul>
<h3>G4 - Dwell <a href="https://reprap.org/wiki/G-code#G4:_Dwell">G4: Dwell</a></h3>
<p>Pause the machine for a period of time.</p>
<h4>Usage</h4>
<pre class="fragment">G4 [ P | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - Time to wait, in milliseconds</li>
<li><code>S</code> - Time to wait, in seconds</li>
</ul>
<h3>G10 - Retract <a href="https://reprap.org/wiki/G-code#G10:_Retract">G10: Retract</a></h3>
<p>Retracts filament according to settings of <code>M207</code></p>
<h3>G11 - Retract recover <a href="https://reprap.org/wiki/G-code#G11:_Unretract">G11: Unretract</a></h3>
<p>Unretracts/recovers filament according to settings of <code>M208</code></p>
<h3>G21 - Sets Units to Millimters <a href="https://reprap.org/wiki/G-code#G21:_Set_Units_to_Millimeters">G21: Set Units to Millimeters</a></h3>
<p>Units are in millimeters. Prusa doesn't support inches.</p>
<h3>G28 - Home all Axes one at a time <a href="https://reprap.org/wiki/G-code#G28:_Move_to_Origin_.28Home.29">G28: Move to Origin (Home)</a></h3>
<p>Using <code>G28</code> without any parameters will perfom homing of all axes AND mesh bed leveling, while <code>G28 W</code> will just home all axes (no mesh bed leveling). </p><h4>Usage</h4>
<pre class="fragment"> G28 [ X | Y | Z | W | C ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - Flag to go back to the X axis origin</li>
<li><code>Y</code> - Flag to go back to the Y axis origin</li>
<li><code>Z</code> - Flag to go back to the Z axis origin</li>
<li><code>W</code> - Suppress mesh bed leveling if <code>X</code>, <code>Y</code> or <code>Z</code> are not provided</li>
<li><code>C</code> - Calibrate X and Y origin (home) - Only on MK3/s</li>
</ul>
<h3>G29 - Detailed Z-Probe <a href="https://reprap.org/wiki/G-code#G29:_Detailed_Z-Probe">G29: Detailed Z-Probe</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<p>See <code>G81</code></p>
<h3>G30 - Single Z Probe <a href="https://reprap.org/wiki/G-code#G30:_Single_Z-Probe">G30: Single Z-Probe</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G31 - Dock the sled <a href="https://reprap.org/wiki/G-code#G31:_Dock_Z_Probe_sled">G31: Dock Z Probe sled</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G32 - Undock the sled <a href="https://reprap.org/wiki/G-code#G32:_Undock_Z_Probe_sled">G32: Undock Z Probe sled</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G30 - Single Z Probe <a href="https://reprap.org/wiki/G-code#G30:_Single_Z-Probe">G30: Single Z-Probe</a></h3>
<p>Sensor must be over the bed. The maximum travel distance before an error is triggered is 10mm.</p>
<h3>G75 - Print temperature interpolation <a href="https://reprap.org/wiki/G-code#G75:_Print_temperature_interpolation">G75: Print temperature interpolation</a></h3>
<p>Show/print PINDA temperature interpolating.</p>
<h3>G76 - PINDA probe temperature calibration <a href="https://reprap.org/wiki/G-code#G76:_PINDA_probe_temperature_calibration">G76: PINDA probe temperature calibration</a></h3>
<p>This G-code is used to calibrate the temperature drift of the PINDA (inductive Sensor).</p>
<p>The PINDAv2 sensor has a built-in thermistor which has the advantage that the calibration can be done once for all materials.</p>
<p>The Original i3 Prusa MK2/s uses PINDAv1 and this calibration improves the temperature drift, but not as good as the PINDAv2.</p>
<p>superPINDA sensor has internal temperature compensation and no thermistor output. There is no point of doing temperature calibration in such case. If PINDA_THERMISTOR and SUPERPINDA_SUPPORT is defined during compilation, calibration is skipped with serial message "No PINDA thermistor". This can be caused also if PINDA thermistor connection is broken or PINDA temperature is lower than PINDA_MINTEMP.</p>
<h4>Example</h4>
<div class="fragment"><div class="line">G76</div>
<div class="line"> </div>
<div class="line">echo PINDA probe calibration start</div>
<div class="line">echo start temperature: 35.0°</div>
<div class="line">echo ...</div>
<div class="line">echo PINDA temperature -- Z shift (mm): 0.---</div>
</div><!-- fragment --><h3>G80 - Mesh-based Z probe <a href="https://reprap.org/wiki/G-code#G80:_Mesh-based_Z_probe">G80: Mesh-based Z probe</a></h3>
<p>Default 3x3 grid can be changed on MK2.5/s and MK3/s to 7x7 grid. </p><h4>Usage</h4>
<pre class="fragment">  G80 [ N | R | V | L | R | F | B ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>N</code> - Number of mesh points on x axis. Default is 3. Valid values are 3 and 7.</li>
<li><code>R</code> - Probe retries. Default 3 max. 10</li>
<li><code>V</code> - Verbosity level 1=low, 10=mid, 20=high. It only can be used if the firmware has been compiled with SUPPORT_VERBOSITY active.</li>
</ul>
<p>Using the following parameters enables additional "manual" bed leveling correction. Valid values are -100 microns to 100 microns. </p><h4>Additional Parameters</h4>
<ul>
<li><code>L</code> - Left Bed Level correct value in um.</li>
<li><code>R</code> - Right Bed Level correct value in um.</li>
<li><code>F</code> - Front Bed Level correct value in um.</li>
<li><code>B</code> - Back Bed Level correct value in um.</li>
</ul>
<h3>G81 - Mesh bed leveling status <a href="https://reprap.org/wiki/G-code#G81:_Mesh_bed_leveling_status">G81: Mesh bed leveling status</a></h3>
<p>Prints mesh bed leveling status and bed profile if activated.</p>
<h3>G82: Single Z probe at current location - Not active <a href="https://reprap.org/wiki/G-code#G82:_Single_Z_probe_at_current_location">G82: Single Z probe at current location</a></h3>
<p>WARNING! USE WITH CAUTION! If you'll try to probe where is no leveling pad, nasty things can happen! In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G83: Babystep in Z and store to EEPROM - Not active <a href="https://reprap.org/wiki/G-code#G83:_Babystep_in_Z_and_store_to_EEPROM">G83: Babystep in Z and store to EEPROM</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G84: UNDO Babystep Z (move Z axis back) - Not active <a href="https://reprap.org/wiki/G-code#G84:_UNDO_Babystep_Z_.28move_Z_axis_back.29">G84: UNDO Babystep Z (move Z axis back)</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G85: Pick best babystep - Not active <a href="https://reprap.org/wiki/G-code#G85:_Pick_best_babystep">G85: Pick best babystep</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<h3>G86 - Disable babystep correction after home <a href="https://reprap.org/wiki/G-code#G86:_Disable_babystep_correction_after_home">G86: Disable babystep correction after home</a></h3>
<p>This G-code will be performed at the start of a calibration script. (Prusa3D specific)</p>
<h3>G87 - Enable babystep correction after home <a href="https://reprap.org/wiki/G-code#G87:_Enable_babystep_correction_after_home">G87: Enable babystep correction after home</a></h3>
<p>This G-code will be performed at the end of a calibration script. (Prusa3D specific)</p>
<h3>G88 - Reserved <a href="https://reprap.org/wiki/G-code#G88:_Reserved">G88: Reserved</a></h3>
<p>Currently has no effect.</p>
<h3>G90 - Switch off relative mode <a href="https://reprap.org/wiki/G-code#G90:_Set_to_Absolute_Positioning">G90: Set to Absolute Positioning</a></h3>
<p>All coordinates from now on are absolute relative to the origin of the machine. E axis is left intact.</p>
<h3>G91 - Switch on relative mode <a href="https://reprap.org/wiki/G-code#G91:_Set_to_Relative_Positioning">G91: Set to Relative Positioning</a></h3>
<p>All coordinates from now on are relative to the last position. E axis is left intact.</p>
<h3>G92 - Set position <a href="https://reprap.org/wiki/G-code#G92:_Set_Position">G92: Set Position</a></h3>
<p>It is used for setting the current position of each axis. The parameters are always absolute to the origin. If a parameter is omitted, that axis will not be affected. If <code>X</code>, <code>Y</code>, or <code>Z</code> axis are specified, the move afterwards might stutter because of Mesh Bed Leveling. <code>E</code> axis is not affected if the target position is 0 (<code>G92 E0</code>). A G92 without coordinates will reset all axes to zero on some firmware. This is not the case for Prusa-Firmware!</p>
<h4>Usage</h4>
<pre class="fragment">  G92 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - new X axis position</li>
<li><code>Y</code> - new Y axis position</li>
<li><code>Z</code> - new Z axis position</li>
<li><code>E</code> - new extruder position</li>
</ul>
<h3>G98 - Activate farm mode <a href="https://reprap.org/wiki/G-code#G98:_Activate_farm_mode">G98: Activate farm mode</a></h3>
<p>Enable Prusa-specific Farm functions and g-code. See Internal Prusa commands.</p>
<h3>G99 - Deactivate farm mode <a href="https://reprap.org/wiki/G-code#G99:_Deactivate_farm_mode">G99: Deactivate farm mode</a></h3>
<p>Disables Prusa-specific Farm functions and g-code.</p>
<h3>End of G-Codes</h3>
<hr  />
 <h1>M Commands</h1>
<h3>M0, M1 - Stop the printer <a href="https://reprap.org/wiki/G-code#M0:_Stop_or_Unconditional_stop">M0: Stop or Unconditional stop</a></h3>
<h4>Usage</h4>
<p>M0 [P&lt;ms&lt;] [S&lt;sec&gt;] [string] M1 [P&lt;ms&gt;] [S&lt;sec&gt;] [string]</p>
<h4>Parameters</h4>
<ul>
<li><code>P&lt;ms&gt;</code> - Expire time, in milliseconds</li>
<li><code>S&lt;sec&gt;</code> - Expire time, in seconds</li>
<li><code>string</code> - Must for M1 and optional for M0 message to display on the LCD</li>
</ul>
<h3>M17 - Enable all axes <a href="https://reprap.org/wiki/G-code#M17:_Enable.2FPower_all_stepper_motors">M17: Enable/Power all stepper motors</a></h3>
<h3>M20 - SD Card file list <a href="https://reprap.org/wiki/G-code#M20:_List_SD_card">M20: List SD card</a></h3>
<h4>Usage</h4>
<pre class="fragment">M20 [ L | T ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>T</code> - Report timestamps as well. The value is one uint32_t encoded as hex. Requires host software parsing (Cap:EXTENDED_M20).</li>
<li><code>L</code> - Reports long filenames instead of just short filenames. Requires host software parsing (Cap:EXTENDED_M20).</li>
</ul>
<h3>M21 - Init SD card <a href="https://reprap.org/wiki/G-code#M21:_Initialize_SD_card">M21: Initialize SD card</a></h3>
<h3>M22 - Release SD card <a href="https://reprap.org/wiki/G-code#M22:_Release_SD_card">M22: Release SD card</a></h3>
<h3>M23 - Select file <a href="https://reprap.org/wiki/G-code#M23:_Select_SD_file">M23: Select SD file</a></h3>
<h4>Usage</h4>
<pre class="fragment">M23 [filename]
</pre><h3>M24 - Start SD print <a href="https://reprap.org/wiki/G-code#M24:_Start.2Fresume_SD_print">M24: Start/resume SD print</a></h3>
<h3>M26 - Set SD index <a href="https://reprap.org/wiki/G-code#M26:_Set_SD_position">M26: Set SD position</a></h3>
<p>Set position in SD card file to index in bytes. This command is expected to be called after M23 and before M24. Otherwise effect of this command is undefined. </p><h4>Usage</h4>
<pre class="fragment">  M26 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Index in bytes</li>
</ul>
<h3>M27 - Get SD status <a href="https://reprap.org/wiki/G-code#M27:_Report_SD_print_status">M27: Report SD print status</a></h3>
<h4>Usage</h4>
<pre class="fragment">  M27 [ P ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - Show full SFN path instead of LFN only.</li>
</ul>
<h3>M28 - Start SD write <a href="https://reprap.org/wiki/G-code#M28:_Begin_write_to_SD_card">M28: Begin write to SD card</a></h3>
<h3>M29 - Stop SD write <a href="https://reprap.org/wiki/G-code#M29:_Stop_writing_to_SD_card">M29: Stop writing to SD card</a></h3>
<p>Stops writing to the SD file signaling the end of the uploaded file. It is processed very early and it's not written to the card.</p>
<h3>M30 - Delete file <a href="https://reprap.org/wiki/G-code#M30:_Delete_a_file_on_the_SD_card">M30: Delete a file on the SD card</a></h3>
<h4>Usage</h4>
<pre class="fragment">M30 [filename]
</pre><h3>M32 - Select file and start SD print <a href="https://reprap.org/wiki/G-code#M32:_Select_file_and_start_SD_print">M32: Select file and start SD print</a></h3>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>What are the parameters P and S for in M32? </dd></dl>
<h3>M928 - Start SD logging <a href="https://reprap.org/wiki/G-code#M928:_Start_SD_logging">M928: Start SD logging</a></h3>
<h4>Usage</h4>
<pre class="fragment">M928 [filename]
</pre><h3>M31 - Report current print time <a href="https://reprap.org/wiki/G-code#M31:_Output_time_since_last_M109_or_SD_card_start_to_serial">M31: Output time since last M109 or SD card start to serial</a></h3>
<h3>M42 - Set pin state <a href="https://reprap.org/wiki/G-code#M42:_Switch_I.2FO_pin">M42: Switch I/O pin</a></h3>
<h4>Usage</h4>
<pre class="fragment">M42 [ P | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - Pin number.</li>
<li><code>S</code> - Pin value. If the pin is analog, values are from 0 to 255. If the pin is digital, values are from 0 to 1.</li>
</ul>
<h3>M44 - Reset the bed skew and offset calibration <a href="https://reprap.org/wiki/G-code#M44:_Reset_the_bed_skew_and_offset_calibration">M44: Reset the bed skew and offset calibration</a></h3>
<h3>M45 - Bed skew and offset with manual Z up <a href="https://reprap.org/wiki/G-code#M45:_Bed_skew_and_offset_with_manual_Z_up">M45: Bed skew and offset with manual Z up</a></h3>
<h4>Usage</h4>
<pre class="fragment">M45 [ V ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>V</code> - Verbosity level 1, 10 and 20 (low, mid, high). Only when SUPPORT_VERBOSITY is defined. Optional.</li>
<li><code>Z</code> - If it is provided, only Z calibration will run. Otherwise full calibration is executed.</li>
</ul>
<h3>M46 - Show the assigned IP address <a href="https://reprap.org/wiki/G-code#M46:_Show_the_assigned_IP_address">M46: Show the assigned IP address.</a></h3>
<h3>M47 - Show end stops dialog on the display <a href="https://reprap.org/wiki/G-code#M47:_Show_end_stops_dialog_on_the_display">M47: Show end stops dialog on the display</a></h3>
<h3>M48 - Z-Probe repeatability measurement function <a href="https://reprap.org/wiki/G-code#M48:_Measure_Z-Probe_repeatability">M48: Measure Z-Probe repeatability</a></h3>
<p>This function assumes the bed has been homed. Specifically, that a G28 command as been issued prior to invoking the M48 Z-Probe repeatability measurement function. Any information generated by a prior G29 Bed leveling command will be lost and needs to be regenerated.</p>
<p>The number of samples will default to 10 if not specified. You can use upper or lower case letters for any of the options EXCEPT n. n must be in lower case because Marlin uses a capital N for its communication protocol and will get horribly confused if you send it a capital N. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Why would you check for both uppercase and lowercase? Seems wasteful.</dd></dl>
<h4>Usage</h4>
<pre class="fragment">M48 [ n | X | Y | V | L ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>n</code> - Number of samples. Valid values 4-50</li>
<li><code>X</code> - X position for samples</li>
<li><code>Y</code> - Y position for samples</li>
<li><code>V</code> - Verbose level. Valid values 1-4</li>
<li><code>L</code> - Legs of movementprior to doing probe. Valid values 1-15</li>
</ul>
<h3>M73 - Set/get print progress <a href="https://reprap.org/wiki/G-code#M73:_Set.2FGet_build_percentage">M73: Set/Get build percentage</a></h3>
<h4>Usage</h4>
<pre class="fragment">M73 [ P | R | Q | S | C | D ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - Percent in normal mode</li>
<li><code>R</code> - Time remaining in normal mode</li>
<li><code>Q</code> - Percent in silent mode</li>
<li><code>S</code> - Time in silent mode</li>
<li><code>C</code> - Time to change/pause/user interaction in normal mode</li>
<li><code>D</code> - Time to change/pause/user interaction in silent mode</li>
</ul>
<h3>M104 - Set hotend temperature <a href="https://reprap.org/wiki/G-code#M104:_Set_Extruder_Temperature">M104: Set Extruder Temperature</a></h3>
<h4>Usage</h4>
<pre class="fragment">M104 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Target temperature</li>
</ul>
<h3>M112 - Emergency stop <a href="https://reprap.org/wiki/G-code#M112:_Full_.28Emergency.29_Stop">M112: Full (Emergency) Stop</a></h3>
<p>It is processed much earlier as to bypass the cmdqueue.</p>
<h3>M140 - Set bed temperature <a href="https://reprap.org/wiki/G-code#M140:_Set_Bed_Temperature_.28Fast.29">M140: Set Bed Temperature (Fast)</a></h3>
<h4>Usage</h4>
<pre class="fragment">M140 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Target temperature</li>
</ul>
<h3>M105 - Report temperatures <a href="https://reprap.org/wiki/G-code#M105:_Get_Extruder_Temperature">M105: Get Extruder Temperature</a></h3>
<p>Prints temperatures:</p>
<ul>
<li><code>T:</code> - Hotend (actual / target)</li>
<li><code>B:</code> - Bed (actual / target)</li>
<li><code>Tx:</code> - x Tool (actual / target)</li>
<li><code>@:</code> - Hotend power</li>
<li><code>B@:</code> - Bed power</li>
<li><code>P:</code> - PINDAv2 actual (only MK2.5/s and MK3/s)</li>
<li><code>A:</code> - Ambient actual (only MK3/s)</li>
</ul>
<p><em>Example:</em> </p><pre class="fragment">ok T:20.2 /0.0 B:19.1 /0.0 T0:20.2 /0.0 @:0 B@:0 P:19.8 A:26.4
</pre><h3>M155 - Automatically send status <a href="https://reprap.org/wiki/G-code#M155:_Automatically_send_temperatures">M155: Automatically send temperatures</a></h3>
<h4>Usage</h4>
<pre class="fragment">M155 [ S ] [ C ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Set autoreporting interval in seconds. 0 to disable. Maximum: 255</li>
<li><code>C</code> - Activate auto-report function (bit mask). Default is temperature. <pre class="fragment">bit 0 = Auto-report temperatures
bit 1 = Auto-report fans
bit 2 = Auto-report position
bit 3 = free
bit 4 = free
bit 5 = free
bit 6 = free
bit 7 = free
</pre></li>
</ul>
<h3>M109 - Wait for extruder temperature <a href="https://reprap.org/wiki/G-code#M109:_Set_Extruder_Temperature_and_Wait">M109: Set Extruder Temperature and Wait</a></h3>
<h4>Usage</h4>
<pre class="fragment">M104 [ B | R | S ]
</pre> <h4>Parameters (not mandatory)</h4>
<ul>
<li><code>S</code> - Set extruder temperature</li>
<li><code>R</code> - Set extruder temperature</li>
<li><code>B</code> - Set max. extruder temperature, while <code>S</code> is min. temperature. Not active in default, only if AUTOTEMP is defined in source code.</li>
</ul>
<p>Parameters S and R are treated identically. Command always waits for both cool down and heat up. If no parameters are supplied waits for previously set extruder temperature.</p>
<h3>M190 - Wait for bed temperature <a href="https://reprap.org/wiki/G-code#M190:_Wait_for_bed_temperature_to_reach_target_temp">M190: Wait for bed temperature to reach target temp</a></h3>
<h4>Usage</h4>
<pre class="fragment">M190 [ R | S ]
</pre> <h4>Parameters (not mandatory)</h4>
<ul>
<li><code>S</code> - Set extruder temperature and wait for heating</li>
<li><code>R</code> - Set extruder temperature and wait for heating or cooling</li>
</ul>
<p>If no parameter is supplied, waits for heating or cooling to previously set temperature.</p>
<h3>M106 - Set fan speed <a href="https://reprap.org/wiki/G-code#M106:_Fan_On">M106: Fan On</a></h3>
<h4>Usage</h4>
<p>M106 [ S ]</p>
<h4>Parameters</h4>
<ul>
<li><code>S</code> - Specifies the duty cycle of the print fan. Allowed values are 0-255. If it's omitted, a value of 255 is used.</li>
</ul>
<h3>M107 - Fan off <a href="https://reprap.org/wiki/G-code#M107:_Fan_Off">M107: Fan Off</a></h3>
<h3>M80 - Turn on the Power Supply <a href="https://reprap.org/wiki/G-code#M80:_ATX_Power_On">M80: ATX Power On</a></h3>
<p>Only works if the firmware is compiled with PS_ON_PIN defined.</p>
<h3>M81 - Turn off Power Supply <a href="https://reprap.org/wiki/G-code#M81:_ATX_Power_Off">M81: ATX Power Off</a></h3>
<p>Only works if the firmware is compiled with PS_ON_PIN defined.</p>
<h3>M82 - Set E axis to absolute mode <a href="https://reprap.org/wiki/G-code#M82:_Set_extruder_to_absolute_mode">M82: Set extruder to absolute mode</a></h3>
<p>Makes the extruder interpret extrusion as absolute positions.</p>
<h3>M83 - Set E axis to relative mode <a href="https://reprap.org/wiki/G-code#M83:_Set_extruder_to_relative_mode">M83: Set extruder to relative mode</a></h3>
<p>Makes the extruder interpret extrusion values as relative positions.</p>
<h3>M84 - Disable steppers <a href="https://reprap.org/wiki/G-code#M84:_Stop_idle_hold">M84: Stop idle hold</a></h3>
<p>This command can be used to set the stepper inactivity timeout (<code>S</code>) or to disable steppers (<code>X</code>,<code>Y</code>,<code>Z</code>,<code>E</code>) This command can be used without any additional parameters. In that case all steppers are disabled.</p>
<p>The file completeness check uses this parameter to detect an incomplete file. It has to be present at the end of a file with no parameters. </p><pre class="fragment">M84 [ S | X | Y | Z | E ]
</pre><ul>
<li><code>S</code> - Seconds</li>
<li><code>X</code> - X axis</li>
<li><code>Y</code> - Y axis</li>
<li><code>Z</code> - Z axis</li>
<li><code>E</code> - Extruder</li>
</ul>
<h3>M18 - Disable steppers <a href="https://reprap.org/wiki/G-code#M18:_Disable_all_stepper_motors">M18: Disable all stepper motors</a></h3>
<p>Equal to M84 (compatibility)</p>
<h3>M85 - Set max inactive time <a href="https://reprap.org/wiki/G-code#M85:_Set_Inactivity_Shutdown_Timer">M85: Set Inactivity Shutdown Timer</a></h3>
<h4>Usage</h4>
<pre class="fragment">M85 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - specifies the time in seconds. If a value of 0 is specified, the timer is disabled.</li>
</ul>
<h3>M86 - Set safety timer expiration time <a href="https://reprap.org/wiki/G-code#M86:_Set_Safety_Timer_expiration_time">M86: Set Safety Timer expiration time</a></h3>
<p>When safety timer expires, heatbed and nozzle target temperatures are set to zero. </p><h4>Usage</h4>
<pre class="fragment">M86 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - specifies the time in seconds. If a value of 0 is specified, the timer is disabled.</li>
</ul>
<h3>M92 Set Axis steps-per-unit <a href="https://reprap.org/wiki/G-code#M92:_Set_axis_steps_per_unit">M92: Set axis_steps_per_unit</a></h3>
<p>Allows programming of steps per unit (usually mm) for motor drives. These values are reset to firmware defaults on power on, unless saved to EEPROM if available (M500 in Marlin) </p><h4>Usage</h4>
<pre class="fragment">M92 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - Steps per unit for the X drive</li>
<li><code>Y</code> - Steps per unit for the Y drive</li>
<li><code>Z</code> - Steps per unit for the Z drive</li>
<li><code>E</code> - Steps per unit for the extruder drive</li>
</ul>
<h3>M110 - Set Line number <a href="https://reprap.org/wiki/G-code#M110:_Set_Current_Line_Number">M110: Set Current Line Number</a></h3>
<p>Sets the line number in G-code </p><h4>Usage</h4>
<pre class="fragment">M110 [ N ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>N</code> - Line number</li>
</ul>
<h3>M113 - Get or set host keep-alive interval <a href="https://reprap.org/wiki/G-code#M113:_Host_Keepalive">M113: Host Keepalive</a></h3>
<p>During some lengthy processes, such as G29, Marlin may appear to the host to have “gone away.” The “host keepalive” feature will send messages to the host when Marlin is busy or waiting for user response so the host won’t try to reconnect (or disconnect). </p><h4>Usage</h4>
<pre class="fragment">M113 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Seconds. Default is 2 seconds between "busy" messages</li>
</ul>
<h3>M115 - Firmware info <a href="https://reprap.org/wiki/G-code#M115:_Get_Firmware_Version_and_Capabilities">M115: Get Firmware Version and Capabilities</a></h3>
<p>Print the firmware info and capabilities Without any arguments, prints Prusa firmware version number, machine type, extruder count and UUID. <code>M115 U</code> Checks the firmware version provided. If the firmware version provided by the U code is higher than the currently running firmware, it will pause the print for 30s and ask the user to upgrade the firmware.</p>
<p><em>Examples:</em></p>
<p><code>M115</code> results:</p>
<p><code>FIRMWARE_NAME:Prusa-Firmware 3.8.1 based on Marlin FIRMWARE_URL:https://github.com/prusa3d/Prusa-Firmware PROTOCOL_VERSION:1.0 MACHINE_TYPE:Prusa i3 MK3S EXTRUDER_COUNT:1 UUID:00000000-0000-0000-0000-000000000000</code></p>
<p><code>M115 V</code> results:</p>
<p><code>3.8.1</code></p>
<p><code>M115 U3.8.2-RC1</code> results on LCD display for 30s or user interaction:</p>
<p><code>New firmware version available: 3.8.2-RC1 Please upgrade.</code> </p><h4>Usage</h4>
<pre class="fragment">M115 [ V | U ]
</pre> <h4>Parameters</h4>
<ul>
<li>V - Report current installed firmware version</li>
<li>U - Firmware version provided by G-code to be compared to current one. <br  />
</li>
</ul>
<h3>M114 - Get current position <a href="https://reprap.org/wiki/G-code#M114:_Get_Current_Position">M114: Get Current Position</a></h3>
<h3>M117 - Display Message <a href="https://reprap.org/wiki/G-code#M117:_Display_Message">M117: Display Message</a></h3>
<h3>M120 - Enable endstops <a href="https://reprap.org/wiki/G-code#M120:_Enable_endstop_detection">M120: Enable endstop detection</a></h3>
<h3>M121 - Disable endstops <a href="https://reprap.org/wiki/G-code#M121:_Disable_endstop_detection">M121: Disable endstop detection</a></h3>
<h3>M119 - Get endstop states <a href="https://reprap.org/wiki/G-code#M119:_Get_Endstop_Status">M119: Get Endstop Status</a></h3>
<p>Returns the current state of the configured X, Y, Z endstops. Takes into account any 'inverted endstop' settings, so one can confirm that the machine is interpreting the endstops correctly.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>update for all axes, use for loop </dd></dl>
<h3>M123 - Tachometer value <a href="https://www.reprap.org/wiki/G-code#M123:_Tachometer_value_.28RepRap_.26_Prusa.29">M123: Tachometer value</a></h3>
<p>This command is used to report fan speeds and fan pwm values. </p><h4>Usage</h4>
<pre class="fragment">  M123
</pre><ul>
<li>E0: - Hotend fan speed in RPM</li>
<li>PRN1: - Part cooling fans speed in RPM</li>
<li>E0@: - Hotend fan PWM value</li>
<li>PRN1@: -Part cooling fan PWM value</li>
</ul>
<p><em>Example:</em></p>
<p>E0:3240 RPM PRN1:4560 RPM E0@:255 PRN1@:255</p>
<h3>M150 - Set RGB(W) Color <a href="https://reprap.org/wiki/G-code#M150:_Set_LED_color">M150: Set LED color</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code by defining BLINKM and its dependencies. </p><h4>Usage</h4>
<pre class="fragment">M150 [ R | U | B ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>R</code> - Red color value</li>
<li><code>U</code> - Green color value. It is NOT <code>G</code>!</li>
<li><code>B</code> - Blue color value</li>
</ul>
<h3>M200 - Set filament diameter <a href="https://reprap.org/wiki/G-code#M200:_Set_filament_diameter">M200: Set filament diameter</a></h3>
<h4>Usage</h4>
<pre class="fragment">M200 [ D | T ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>D</code> - Diameter in mm</li>
<li><code>T</code> - Number of extruder (MMUs)</li>
</ul>
<h3>M201 - Set Print Max Acceleration <a href="https://reprap.org/wiki/G-code#M201:_Set_max_acceleration">M201: Set max printing acceleration</a></h3>
<p>For each axis individually. </p><h5>Usage</h5>
<p>M201 [ X | Y | Z | E ]</p>
<h5>Parameters</h5>
<ul>
<li><code>X</code> - Acceleration for X axis in units/s^2</li>
<li><code>Y</code> - Acceleration for Y axis in units/s^2</li>
<li><code>Z</code> - Acceleration for Z axis in units/s^2</li>
<li><code>E</code> - Acceleration for the active or specified extruder in units/s^2</li>
</ul>
<h3>M203 - Set Max Feedrate <a href="https://reprap.org/wiki/G-code#M203:_Set_maximum_feedrate">M203: Set maximum feedrate</a></h3>
<p>For each axis individually. </p><h5>Usage</h5>
<p>M203 [ X | Y | Z | E ]</p>
<h5>Parameters</h5>
<ul>
<li><code>X</code> - Maximum feedrate for X axis</li>
<li><code>Y</code> - Maximum feedrate for Y axis</li>
<li><code>Z</code> - Maximum feedrate for Z axis</li>
<li><code>E</code> - Maximum feedrate for extruder drives</li>
</ul>
<h3>M204 - Acceleration settings <a href="https://reprap.org/wiki/G-code#M204:_Set_default_acceleration">M204: Set default acceleration</a></h3>
<h4>Old format:</h4>
<h5>Usage</h5>
<pre class="fragment">M204 [ S | T ]
</pre> <h5>Parameters</h5>
<ul>
<li><code>S</code> - normal moves</li>
<li><code>T</code> - filmanent only moves</li>
</ul>
<h4>New format:</h4>
<h5>Usage</h5>
<pre class="fragment">M204 [ P | R | T ]
</pre> <h5>Parameters</h5>
<ul>
<li><code>P</code> - printing moves</li>
<li><code>R</code> - filmanent only moves</li>
<li><code>T</code> - travel moves (as of now T is ignored)</li>
</ul>
<h3>M205 - Set advanced settings <a href="https://reprap.org/wiki/G-code#M205:_Advanced_settings">M205: Advanced settings</a></h3>
<p>Set some advanced settings related to movement. </p><h4>Usage</h4>
<pre class="fragment">M205 [ S | T | B | X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Minimum feedrate for print moves (unit/s)</li>
<li><code>T</code> - Minimum feedrate for travel moves (units/s)</li>
<li><code>B</code> - Minimum segment time (us)</li>
<li><code>X</code> - Maximum X jerk (units/s)</li>
<li><code>Y</code> - Maximum Y jerk (units/s)</li>
<li><code>Z</code> - Maximum Z jerk (units/s)</li>
<li><code>E</code> - Maximum E jerk (units/s)</li>
</ul>
<h3>M206 - Set additional homing offsets <a href="https://reprap.org/wiki/G-code#M206:_Offset_axes">M206: Offset axes</a></h3>
<h4>Usage</h4>
<pre class="fragment">M206 [ X | Y | Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X axis offset</li>
<li><code>Y</code> - Y axis offset</li>
<li><code>Z</code> - Z axis offset</li>
</ul>
<h3>M207 - Set firmware retraction <a href="https://reprap.org/wiki/G-code#M207:_Set_retract_length">M207: Set retract length</a></h3>
<h4>Usage</h4>
<pre class="fragment">M207 [ S | F | Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - positive length to retract, in mm</li>
<li><code>F</code> - retraction feedrate, in mm/min</li>
<li><code>Z</code> - additional zlift/hop</li>
</ul>
<h3>M208 - Set retract recover length <a href="https://reprap.org/wiki/G-code#M208:_Set_unretract_length">M208: Set unretract length</a></h3>
<h4>Usage</h4>
<pre class="fragment">M208 [ S | F ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - positive length surplus to the M207 Snnn, in mm</li>
<li><code>F</code> - feedrate, in mm/sec</li>
</ul>
<h3>M209 - Enable/disable automatict retract <a href="https://reprap.org/wiki/G-code#M209:_Enable_automatic_retract">M209: Enable automatic retract</a></h3>
<p>This boolean value S 1=true or 0=false enables automatic retract detect if the slicer did not support G10/G11: every normal extrude-only move will be classified as retract depending on the direction. </p><h4>Usage</h4>
<pre class="fragment">M209 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - 1=true or 0=false</li>
</ul>
<h3>M214 - Set Arc configuration values (Use M500 to store in eeprom) <a href="https://reprap.org/wiki/G-code#M214:_Set_Arc_configuration_values">M214: Set Arc configuration values</a></h3>
<h4>Usage</h4>
<pre class="fragment">M214 [P] [S] [N] [R] [F]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - A float representing the max and default millimeters per arc segment. Must be greater than 0.</li>
<li><code>S</code> - A float representing the minimum allowable millimeters per arc segment. Set to 0 to disable</li>
<li><code>N</code> - An int representing the number of arcs to draw before correcting the small angle approximation. Set to 0 to disable.</li>
<li><code>R</code> - An int representing the minimum number of segments per arcs of any radius, except when the results in segment lengths greater than or less than the minimum and maximum segment length. Set to 0 to disable.</li>
<li><code>F</code> - An int representing the number of segments per second, unless this results in segment lengths greater than or less than the minimum and maximum segment length. Set to 0 to disable.</li>
</ul>
<p><br  />
 M214 - Set Arc Parameters (Use M500 to store in eeprom) P&lt;MM_PER_ARC_SEGMENT&gt; S&lt;MIN_MM_PER_ARC_SEGMENT&gt; R&lt;MIN_ARC_SEGMENTS&gt; F&lt;ARC_SEGMENTS_PER_SEC&gt;</p>
<h3>M220 Set feedrate percentage <a href="https://reprap.org/wiki/G-code#M220:_Set_speed_factor_override_percentage">M220: Set speed factor override percentage</a></h3>
<h4>Usage</h4>
<pre class="fragment">M220 [ B | S | R ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>B</code> - Backup current speed factor</li>
<li><code>S</code> - Speed factor override percentage (0..100 or higher)</li>
<li><code>R</code> - Restore previous speed factor</li>
</ul>
<h3>M221 - Set extrude factor override percentage <a href="https://reprap.org/wiki/G-code#M221:_Set_extrude_factor_override_percentage">M221: Set extrude factor override percentage</a></h3>
<h4>Usage</h4>
<pre class="fragment">M221 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Extrude factor override percentage (0..100 or higher), default 100%</li>
</ul>
<h3>M226 - Wait for Pin state <a href="https://reprap.org/wiki/G-code#M226:_Wait_for_pin_state">M226: Wait for pin state</a></h3>
<p>Wait until the specified pin reaches the state required </p><h4>Usage</h4>
<pre class="fragment">M226 [ P | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - pin number</li>
<li><code>S</code> - pin state</li>
</ul>
<h3>M280 - Set/Get servo position <a href="https://reprap.org/wiki/G-code#M280:_Set_servo_position">M280: Set servo position</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code. </p><h4>Usage</h4>
<pre class="fragment">M280 [ P | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - <a class="el" href="classServo.html">Servo</a> index (id)</li>
<li><code>S</code> - Target position</li>
</ul>
<h3>M300 - Play tone <a href="https://reprap.org/wiki/G-code#M300:_Play_beep_sound">M300: Play beep sound</a></h3>
<p>In Prusa Firmware the defaults are <code>100Hz</code> and <code>1000ms</code>, so that <code>M300</code> without parameters will beep for a second. </p><h4>Usage</h4>
<pre class="fragment">M300 [ S | P ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - frequency in Hz. Not all firmware versions support this parameter</li>
<li><code>P</code> - duration in milliseconds</li>
</ul>
<h3>M301 - Set hotend PID <a href="https://reprap.org/wiki/G-code#M301:_Set_PID_parameters">M301: Set PID parameters</a></h3>
<p>Sets Proportional (P), Integral (I) and Derivative (D) values for hot end. See also <a href="https://reprap.org/wiki/PID_Tuning">PID Tuning.</a> </p><h4>Usage</h4>
<pre class="fragment">M301 [ P | I | D ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - proportional (Kp)</li>
<li><code>I</code> - integral (Ki)</li>
<li><code>D</code> - derivative (Kd)</li>
</ul>
<h3>M304 - Set bed PID <a href="https://reprap.org/wiki/G-code#M304:_Set_PID_parameters_-_Bed">M304: Set PID parameters - Bed</a></h3>
<p>Sets Proportional (P), Integral (I) and Derivative (D) values for bed. See also <a href="https://reprap.org/wiki/PID_Tuning">PID Tuning.</a> </p><h4>Usage</h4>
<pre class="fragment">M304 [ P | I | D ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - proportional (Kp)</li>
<li><code>I</code> - integral (Ki)</li>
<li><code>D</code> - derivative (Kd)</li>
</ul>
<h3>M240 - Trigger camera <a href="https://reprap.org/wiki/G-code#M240:_Trigger_camera">M240: Trigger camera</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code.</p>
<p>You need to (re)define and assign <code>CHDK</code> or <code>PHOTOGRAPH_PIN</code> the correct pin number to be able to use the feature.</p>
<h3>M302 - Allow cold extrude, or set minimum extrude temperature <a href="https://reprap.org/wiki/G-code#M302:_Allow_cold_extrudes">M302: Allow cold extrudes</a></h3>
<p>This tells the printer to allow movement of the extruder motor above a certain temperature, or if disabled, to allow extruder movement when the hotend is below a safe printing temperature. </p><h4>Usage</h4>
<pre class="fragment">M302 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Cold extrude minimum temperature</li>
</ul>
<h3>M303 - PID autotune <a href="https://reprap.org/wiki/G-code#M303:_Run_PID_tuning">M303: Run PID tuning</a></h3>
<p>PID Tuning refers to a control algorithm used in some repraps to tune heating behavior for hot ends and heated beds. This command generates Proportional (Kp), Integral (Ki), and Derivative (Kd) values for the hotend or bed. Send the appropriate code and wait for the output to update the firmware values. </p><h4>Usage</h4>
<pre class="fragment">M303 [ E | S | C ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>E</code> - Extruder, default <code>E0</code>. Use <code>E-1</code> to calibrate the bed PID</li>
<li><code>S</code> - Target temperature, default <code>210°C</code> for hotend, 70 for bed</li>
<li><code>C</code> - Cycles, default <code>5</code></li>
</ul>
<h3>M310 - Temperature model settings <a href="https://reprap.org/wiki/G-code#M310:_Temperature_model_settings">M310: Temperature model settings</a></h3>
<h4>Usage</h4>
<pre class="fragment">M310                                           ; report values
M310 [ A ] [ F ]                               ; autotune
M310 [ S ]                                     ; set 0=disable 1=enable
M310 [ I ] [ R ]                               ; set resistance at index
M310 [ P | U | V | C ]                         ; set power, temperature coefficient, intercept, capacitance
M310 [ D | L ]                                 ; set simulation filter, lag
M310 [ B | E | W ]                             ; set beeper, warning and error threshold
M310 [ T ]                                     ; set ambient temperature correction
</pre> <h4>Parameters</h4>
<ul>
<li><code>I</code> - resistance index position (0-15)</li>
<li><code>R</code> - resistance value at index (K/W; requires <code>I</code>)</li>
<li><code>P</code> - power (W)</li>
<li><code>U</code> - linear temperature coefficient (W/K/power)</li>
<li><code>V</code> - linear temperature intercept (W/power)</li>
<li><code>C</code> - capacitance (J/K)</li>
<li><code>D</code> - sim. 1st order IIR filter factor (f=100/27)</li>
<li><code>L</code> - sim. response lag (ms, 0-2160)</li>
<li><code>S</code> - set 0=disable 1=enable</li>
<li><code>B</code> - beep and warn when reaching warning threshold 0=disable 1=enable (default: 1)</li>
<li><code>E</code> - error threshold (K/s; default in variant)</li>
<li><code>W</code> - warning threshold (K/s; default in variant)</li>
<li><code>T</code> - ambient temperature correction (K; default in variant)</li>
<li><code>A</code> - autotune C+R values</li>
<li><code>F</code> - force model self-test state (0=off 1=on) during autotune using current values</li>
</ul>
<h3>M400 - Wait for all moves to finish <a href="https://reprap.org/wiki/G-code#M400:_Wait_for_current_moves_to_finish">M400: Wait for current moves to finish</a></h3>
<p>Finishes all current moves and and thus clears the buffer. Equivalent to <code>G4</code> with no parameters.</p>
<h3>M403 - Set filament type (material) for particular extruder and notify the MMU <a href="https://reprap.org/wiki/G-code#M403:_Set_filament_type_.28material.29_for_particular_extruder_and_notify_the_MMU.">M403 - Set filament type (material) for particular extruder and notify the MMU</a></h3>
<p>Currently three different materials are needed (default, flex and PVA). <br  />
 And storing this information for different load/unload profiles etc. in the future firmware does not have to wait for "ok" from MMU. </p><h4>Usage</h4>
<pre class="fragment">M403 [ E | F ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>E</code> - Extruder number. 0-indexed.</li>
<li><code>F</code> - Filament type</li>
</ul>
<h3>M500 - Store settings in EEPROM <a href="https://reprap.org/wiki/G-code#M500:_Store_parameters_in_non-volatile_storage">M500: Store parameters in non-volatile storage</a></h3>
<p>Save current parameters to EEPROM.</p>
<h3>M501 - Read settings from EEPROM <a href="https://reprap.org/wiki/G-code#M501:_Read_parameters_from_EEPROM">M501: Read parameters from EEPROM</a></h3>
<p>Set the active parameters to those stored in the EEPROM. This is useful to revert parameters after experimenting with them.</p>
<h3>M502 - Revert all settings to factory default <a href="https://reprap.org/wiki/G-code#M502:_Restore_Default_Settings">M502: Restore Default Settings</a></h3>
<p>This command resets all tunable parameters to their default values, as set in the firmware's configuration files. This doesn't reset any parameters stored in the EEPROM, so it must be followed by M500 to write the default settings.</p>
<h3>M503 - Repport all settings currently in memory <a href="https://reprap.org/wiki/G-code#M503:_Report_Current_Settings">M503: Report Current Settings</a></h3>
<p>This command asks the firmware to reply with the current print settings as set in memory. Settings will differ from EEPROM contents if changed since the last load / save. The reply output includes the G-Code commands to produce each setting. For example, Steps-Per-Unit values are displayed as an M92 command.</p>
<h3>M509 - Force language selection <a href="https://reprap.org/wiki/G-code#M509:_Force_language_selection">M509: Force language selection</a></h3>
<p>Resets the language to English. Only on Original Prusa i3 MK2.5/s and MK3/s with multiple languages.</p>
<h3>M540 - Abort print on endstop hit (enable/disable) <a href="https://reprap.org/wiki/G-code#M540_in_Marlin:_Enable.2FDisable_.22Stop_SD_Print_on_Endstop_Hit.22">M540 in Marlin: Enable/Disable "Stop SD Print on Endstop Hit"</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code. You must define <code>ABORT_ON_ENDSTOP_HIT_FEATURE_ENABLED</code>. </p><h4>Usage</h4>
<pre class="fragment">M540 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - disabled=0, enabled=1</li>
</ul>
<h3>M851 - Set Z-Probe Offset <a href="https://reprap.org/wiki/G-code#M851:_Set_Z-Probe_Offset">M851: Set Z-Probe Offset"</a></h3>
<p>Sets the Z-probe Z offset. This offset is used to determine the actual Z position of the nozzle when using a probe to home Z with G28. This value may also be used by G81 (Prusa) / G29 (Marlin) to apply correction to the Z position. This value represents the distance from nozzle to the bed surface at the point where the probe is triggered. This value will be negative for typical switch probes, inductive probes, and setups where the nozzle makes a circuit with a raised metal contact. This setting will be greater than zero on machines where the nozzle itself is used as the probe, pressing down on the bed to press a switch. (This is a common setup on delta machines.) </p><h4>Usage</h4>
<pre class="fragment">M851 [ Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>Z</code> - Z offset probe to nozzle.</li>
</ul>
<h3>M552 - Set IP address <a href="https://reprap.org/wiki/G-code#M552:_Set_IP_address.2C_enable.2Fdisable_network_interface">M552: Set IP address, enable/disable network interface"</a></h3>
<p>Sets the printer IP address that is shown in the support menu. Designed to be used with the help of host software. If P is not specified nothing happens. If the structure of the IP address is invalid, 0.0.0.0 is assumed and nothing is shown on the screen in the Support menu. </p><h4>Usage</h4>
<pre class="fragment">M552 [ P&lt;IP_address&gt; ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - The IP address in xxx.xxx.xxx.xxx format. Eg: P192.168.1.14</li>
</ul>
<h3>M600 - Initiate Filament change procedure <a href="https://reprap.org/wiki/G-code#M600:_Filament_change_pause">M600: Filament change pause</a></h3>
<p>Initiates Filament change, it is also used during Filament Runout Sensor process. If the <code>M600</code> is triggered under 25mm it will do a Z-lift of 25mm to prevent a filament blob. </p><h4>Usage</h4>
<pre class="fragment">M600 [ X | Y | Z | E | L | AUTO ]
</pre><ul>
<li><code>X</code> - X position, default 211</li>
<li><code>Y</code> - Y position, default 0</li>
<li><code>Z</code> - relative lift Z, default MIN_Z_FOR_SWAP.</li>
<li><code>E</code> - initial retract, default -2</li>
<li><code>L</code> - later retract distance for removal, default -80</li>
<li><code>AUTO</code> - Automatically (only with MMU)</li>
</ul>
<h3>M601 - Pause print <a href="https://reprap.org/wiki/G-code#M601:_Pause_print">M601: Pause print</a></h3>
<h3>M125 - Pause print (TODO: not implemented)</h3>
<h3>M25 - Pause SD print <a href="https://reprap.org/wiki/G-code#M25:_Pause_SD_print">M25: Pause SD print</a></h3>
<h3>M602 - Resume print <a href="https://reprap.org/wiki/G-code#M602:_Resume_print">M602: Resume print</a></h3>
<h3>M603 - Stop print <a href="https://reprap.org/wiki/G-code#M603:_Stop_print">M603: Stop print</a></h3>
<h3>M860 - Wait for extruder temperature (PINDA) <a href="https://reprap.org/wiki/G-code#M860_Wait_for_Probe_Temperature">M860 Wait for Probe Temperature</a></h3>
<p>Wait for PINDA thermistor to reach target temperature </p><h4>Usage</h4>
<pre class="fragment">M860 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Target temperature</li>
</ul>
<h3>M861 - Set/Get PINDA temperature compensation offsets <a href="https://reprap.org/wiki/G-code#M861_Set_Probe_Thermal_Compensation">M861 Set Probe Thermal Compensation</a></h3>
<p>Set compensation ustep value <code>S</code> for compensation table index <code>I</code>. </p><h4>Usage</h4>
<pre class="fragment">M861 [ ? | ! | Z | S | I ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>?</code> - Print current EEPROM offset values</li>
<li><code>!</code> - Set factory default values</li>
<li><code>Z</code> - Set all values to 0 (effectively disabling PINDA temperature compensation)</li>
<li><code>S</code> - Microsteps</li>
<li><code>I</code> - Table index</li>
</ul>
<h3>M862 - Print checking <a href="https://reprap.org/wiki/G-code#M862:_Print_checking">M862: Print checking</a></h3>
<p>Checks the parameters of the printer and gcode and performs compatibility check</p>
<ul>
<li>M862.1 { P&lt;nozzle_diameter&gt; | Q } 0.25/0.40/0.60</li>
<li>M862.2 { P&lt;model_code&gt; | Q }</li>
<li>M862.3 { P"&lt;model_name&gt;" | Q }</li>
<li>M862.4 { P&lt;fw_version&gt; | Q }</li>
<li>M862.5 { P&lt;gcode_level&gt; | Q }</li>
</ul>
<p>When run with P&lt;&gt; argument, the check is performed against the input value. When run with Q argument, the current value is shown.</p>
<p>M862.3 accepts text identifiers of printer types too. The syntax of M862.3 is (note the quotes around the type): </p><pre class="fragment">  M862.3 P "MK3S"
</pre><p> Accepted printer type identifiers and their numeric counterparts:</p>
<ul>
<li>MK1 (100)</li>
<li>MK2 (200) <br  />
</li>
<li>MK2MM (201) <br  />
</li>
<li>MK2S (202) <br  />
</li>
<li>MK2SMM (203) <br  />
</li>
<li>MK2.5 (250) <br  />
</li>
<li>MK2.5MMU2 (20250)</li>
<li>MK2.5S (252) <br  />
</li>
<li>MK2.5SMMU2S (20252)</li>
<li>MK3 (300)</li>
<li>MK3MMU2 (20300)</li>
<li>MK3S (302)</li>
<li>MK3SMMU2S (20302)</li>
</ul>
<h3>M900 - Set Linear advance options <a href="https://reprap.org/wiki/G-code#M900_Set_Linear_Advance_Scaling_Factors">M900 Set Linear Advance Scaling Factors</a></h3>
<p>Sets the advance extrusion factors for Linear Advance. If any of the R, W, H, or D parameters are set to zero the ratio will be computed dynamically during printing. </p><h4>Usage</h4>
<pre class="fragment">M900 [ K | R | W | H | D]
</pre> <h4>Parameters</h4>
<ul>
<li><code>K</code> - Advance K factor</li>
<li><code>R</code> - Set ratio directly (overrides WH/D)</li>
<li><code>W</code> - Width</li>
<li><code>H</code> - Height</li>
<li><code>D</code> - Diameter Set ratio from WH/D</li>
</ul>
<h3>M907 - Set digital trimpot motor current in mA using axis codes <a href="https://reprap.org/wiki/G-code#M907:_Set_digital_trimpot_motor">M907: Set digital trimpot motor</a></h3>
<p>Set digital trimpot motor current using axis codes (X, Y, Z, E, B, S). M907 has no effect when the experimental Extruder motor current scaling mode is active (that applies to farm printing as well) </p><h4>Usage</h4>
<pre class="fragment">M907 [ X | Y | Z | E | B | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X motor driver</li>
<li><code>Y</code> - Y motor driver</li>
<li><code>Z</code> - Z motor driver</li>
<li><code>E</code> - Extruder motor driver</li>
<li><code>B</code> - Second Extruder motor driver</li>
<li><code>S</code> - All motors</li>
</ul>
<h3>M908 - Control digital trimpot directly <a href="https://reprap.org/wiki/G-code#M908:_Control_digital_trimpot_directly">M908: Control digital trimpot directly</a></h3>
<p>In Prusa Firmware this G-code is deactivated by default, must be turned on in the source code. Not usable on Prusa printers. </p><h4>Usage</h4>
<pre class="fragment">M908 [ P | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - channel</li>
<li><code>S</code> - current</li>
</ul>
<h3>M910 - TMC2130 init <a href="https://reprap.org/wiki/G-code#M910:_TMC2130_init">M910: TMC2130 init</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code.</p>
<h3>M911 - Set TMC2130 holding currents <a href="https://reprap.org/wiki/G-code#M911:_Set_TMC2130_holding_currents">M911: Set TMC2130 holding currents</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. </p><h4>Usage</h4>
<pre class="fragment">M911 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X stepper driver holding current value</li>
<li><code>Y</code> - Y stepper driver holding current value</li>
<li><code>Z</code> - Z stepper driver holding current value</li>
<li><code>E</code> - Extruder stepper driver holding current value</li>
</ul>
<h3>M912 - Set TMC2130 running currents <a href="https://reprap.org/wiki/G-code#M912:_Set_TMC2130_running_currents">M912: Set TMC2130 running currents</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. </p><h4>Usage</h4>
<pre class="fragment">M912 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X stepper driver running current value</li>
<li><code>Y</code> - Y stepper driver running current value</li>
<li><code>Z</code> - Z stepper driver running current value</li>
<li><code>E</code> - Extruder stepper driver running current value</li>
</ul>
<h3>M913 - Print TMC2130 currents <a href="https://reprap.org/wiki/G-code#M913:_Print_TMC2130_currents">M913: Print TMC2130 currents</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. Shows TMC2130 currents.</p>
<h3>M914 - Set TMC2130 normal mode <a href="https://reprap.org/wiki/G-code#M914:_Set_TMC2130_normal_mode">M914: Set TMC2130 normal mode</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code.</p>
<h3>M915 - Set TMC2130 silent mode <a href="https://reprap.org/wiki/G-code#M915:_Set_TMC2130_silent_mode">M915: Set TMC2130 silent mode</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code.</p>
<h3>M916 - Set TMC2130 Stallguard sensitivity threshold <a href="https://reprap.org/wiki/G-code#M916:_Set_TMC2130_Stallguard_sensitivity_threshold">M916: Set TMC2130 Stallguard sensitivity threshold</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. </p><h4>Usage</h4>
<pre class="fragment">M916 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X stepper driver stallguard sensitivity threshold value</li>
<li><code>Y</code> - Y stepper driver stallguard sensitivity threshold value</li>
<li><code>Z</code> - Z stepper driver stallguard sensitivity threshold value</li>
<li><code>E</code> - Extruder stepper driver stallguard sensitivity threshold value</li>
</ul>
<h3>M917 - Set TMC2130 PWM amplitude offset (pwm_ampl) <a href="https://reprap.org/wiki/G-code#M917:_Set_TMC2130_PWM_amplitude_offset_.28pwm_ampl.29">M917: Set TMC2130 PWM amplitude offset (pwm_ampl)</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. </p><h4>Usage</h4>
<pre class="fragment">M917 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X stepper driver PWM amplitude offset value</li>
<li><code>Y</code> - Y stepper driver PWM amplitude offset value</li>
<li><code>Z</code> - Z stepper driver PWM amplitude offset value</li>
<li><code>E</code> - Extruder stepper driver PWM amplitude offset value</li>
</ul>
<h3>M918 - Set TMC2130 PWM amplitude gradient (pwm_grad) <a href="https://reprap.org/wiki/G-code#M918:_Set_TMC2130_PWM_amplitude_gradient_.28pwm_grad.29">M918: Set TMC2130 PWM amplitude gradient (pwm_grad)</a></h3>
<p>Not active in default, only if <code>TMC2130_SERVICE_CODES_M910_M918</code> is defined in source code. </p><h4>Usage</h4>
<pre class="fragment">M918 [ X | Y | Z | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X stepper driver PWM amplitude gradient value</li>
<li><code>Y</code> - Y stepper driver PWM amplitude gradient value</li>
<li><code>Z</code> - Z stepper driver PWM amplitude gradient value</li>
<li><code>E</code> - Extruder stepper driver PWM amplitude gradient value</li>
</ul>
<h3>M350 - Set microstepping mode <a href="https://reprap.org/wiki/G-code#M350:_Set_microstepping_mode">M350: Set microstepping mode</a></h3>
<p>Printers with TMC2130 drivers have <code>X</code>, <code>Y</code>, <code>Z</code> and <code>E</code> as options. The steps-per-unit value is updated accordingly. Not all resolutions are valid! Printers without TMC2130 drivers also have <code>B</code> and <code>S</code> options. In this case, the steps-per-unit value in not changed! </p><h4>Usage</h4>
<pre class="fragment">M350 [ X | Y | Z | E | B | S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - X new resolution</li>
<li><code>Y</code> - Y new resolution</li>
<li><code>Z</code> - Z new resolution</li>
<li><code>E</code> - E new resolution</li>
</ul>
<p>Only valid for MK2.5(S) or printers without TMC2130 drivers</p><ul>
<li><code>B</code> - Second extruder new resolution</li>
<li><code>S</code> - All axes new resolution</li>
</ul>
<h3>M351 - Toggle Microstep Pins <a href="https://reprap.org/wiki/G-code#M351:_Toggle_MS1_MS2_pins_directly">M351: Toggle MS1 MS2 pins directly</a></h3>
<p>Toggle MS1 MS2 pins directly. </p><h4>Usage</h4>
<pre class="fragment">M351 [B&lt;0|1&gt;] [E&lt;0|1&gt;] S&lt;1|2&gt; [X&lt;0|1&gt;] [Y&lt;0|1&gt;] [Z&lt;0|1&gt;]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - Update X axis</li>
<li><code>Y</code> - Update Y axis</li>
<li><code>Z</code> - Update Z axis</li>
<li><code>E</code> - Update E axis</li>
<li><code>S</code> - which MSx pin to toggle</li>
<li><code>B</code> - new pin value</li>
</ul>
<h3>M701 - Load filament to extruder <a href="https://reprap.org/wiki/G-code#M701:_Load_filament">M701: Load filament</a></h3>
<p>Load filament into the active extruder. </p><h4>Usage</h4>
<pre class="fragment">M701 [ P | T | L | Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - n index of MMU slot (zero based, so 0-4 like T0 and T4)</li>
<li><code>T</code> - Alias of <code>P</code>. Used for compatibility with Marlin</li>
<li><code>L</code> - Extrude distance for insertion (positive value)(manual reload)</li>
<li><code>Z</code> - Move the Z axis by this distance. Default value MIN_Z_FOR_LOAD</li>
</ul>
<h3>M702 - Unload filament <a href="https://reprap.org/wiki/G-code#M702:_Unload_filament">G32: Undock Z Probe sled</a></h3>
<h4>Usage</h4>
<pre class="fragment">M702 [ U | Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>U</code> - Retract distance for removal (manual reload). Default value is 0.</li>
<li><code>Z</code> - Move the Z axis by this distance. Default value MIN_Z_FOR_UNLOAD.</li>
</ul>
<h3>M704 - Load to MMU <a href="https://reprap.org/wiki/G-code#M704:_Load_to_MMU">M704: Load to MMU</a></h3>
<h4>Usage</h4>
<pre class="fragment">M704 [ P ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - n index of slot (zero based, so 0-4 like T0 and T4)</li>
</ul>
<h3>M705 - Eject filament <a href="https://reprap.org/wiki/G-code#M705:_Eject_filament">M705: Eject filament</a></h3>
<h4>Usage</h4>
<pre class="fragment">M705 [ P ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - n index of slot (zero based, so 0-4 like T0 and T4)</li>
</ul>
<h3>M706 - Cut filament <a href="https://reprap.org/wiki/G-code#M706:_Cut_filament">M706: Cut filament</a></h3>
<h4>Usage</h4>
<pre class="fragment">M706 [ P ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - n index of slot (zero based, so 0-4 like T0 and T4)</li>
</ul>
<h3>M707 - Read from MMU register <a href="https://reprap.org/wiki/G-code#M707:_Read_from_MMU_register">M707: Read from MMU register</a></h3>
<h4>Usage</h4>
<pre class="fragment">M707 [ A ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>A</code> - Address of register in hexidecimal.</li>
</ul>
<h4>Example</h4>
<p>M707 A0x1b - Read a 8bit integer from register 0x1b and prints the result onto the serial line.</p>
<p>Does nothing if the A parameter is not present or if MMU is not enabled.</p>
<h3>M708 - Write to MMU register <a href="https://reprap.org/wiki/G-code#M708:_Write_to_MMU_register">M707: Write to MMU register</a></h3>
<h4>Usage</h4>
<pre class="fragment">M708 [ A | X ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>A</code> - Address of register in hexidecimal.</li>
<li><code>X</code> - Data to write (16-bit integer). Default value 0.</li>
</ul>
<h4>Example</h4>
<p>M708 A0x1b X05 - Write to register 0x1b the value 05.</p>
<p>Does nothing if A parameter is missing or if MMU is not enabled.</p>
<h3>M709 - MMU reset <a href="https://reprap.org/wiki/G-code#M709:_MMU_reset">M709: MMU reset</a></h3>
<p>The MK3S cannot not power off the MMU, for that reason the functionality is not supported. </p><h4>Usage</h4>
<pre class="fragment">M709 [ X ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>X</code> - Reset MMU (0:soft reset | 1:hardware reset)</li>
</ul>
<h4>Example</h4>
<p>M709 X0 - issue an X0 command via communication into the MMU (soft reset)</p>
<p>M709 X1 - toggle the MMU's reset pin (hardware reset)</p>
<h4>End of M-Commands</h4>
<hr  />
 <h1>T Codes</h1>
<p>T&lt;extruder nr.&gt; - select extruder in case of multi extruder printer. select filament in case of MMU_V2. </p><h4>For MMU_V2:</h4>
<p>T&lt;n&gt; Gcode to extrude at least 38.10 mm at feedrate 19.02 mm/s must follow immediately to load to extruder wheels. <br  />
 T? Gcode to extrude shouldn't have to follow, load to extruder wheels is done automatically <br  />
 Tx Same as T?, except nozzle doesn't have to be preheated. Tc must be placed after extruder nozzle is preheated to finish filament load. <br  />
 Tc Load to nozzle after filament was prepared by Tc and extruder nozzle is already heated.</p>
<h4>End of T-Codes</h4>
<hr  />
 <h1>D codes</h1>
<h3>D-1 - Endless Loop <a href="https://reprap.org/wiki/G-code#D-1:_Endless_Loop">D-1: Endless Loop</a></h3>
<h3>D0 - Reset <a href="https://reprap.org/wiki/G-code#D0:_Reset">D0: Reset</a></h3>
<h4>Usage</h4>
<pre class="fragment">D0 [ B ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>B</code> - Bootloader</li>
</ul>
<h3>D1 - Clear EEPROM and RESET <a href="https://reprap.org/wiki/G-code#D1:_Clear_EEPROM_and_RESET">D1: Clear EEPROM and RESET</a></h3>
<pre class="fragment">  D1
</pre><h3>D2 - Read/Write RAM <a href="https://reprap.org/wiki/G-code#D2:_Read.2FWrite_RAM">D3: Read/Write RAM</a></h3>
<p>This command can be used without any additional parameters. It will read the entire RAM. </p><h4>Usage</h4>
<pre class="fragment">D2 [ A | C | X ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>A</code> - Address (x0000-x1fff)</li>
<li><code>C</code> - Count (1-8192)</li>
<li><code>X</code> - Data</li>
</ul>
<h4>Notes</h4>
<ul>
<li>The hex address needs to be lowercase without the 0 before the x</li>
<li>Count is decimal</li>
<li>The hex data needs to be lowercase</li>
</ul>
<h3>D3 - Read/Write EEPROM <a href="https://reprap.org/wiki/G-code#D3:_Read.2FWrite_EEPROM">D3: Read/Write EEPROM</a></h3>
<p>This command can be used without any additional parameters. It will read the entire eeprom. </p><h4>Usage</h4>
<pre class="fragment">D3 [ A | C | X ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>A</code> - Address (x0000-x0fff)</li>
<li><code>C</code> - Count (1-4096)</li>
<li><code>X</code> - Data (hex)</li>
</ul>
<h4>Notes</h4>
<ul>
<li>The hex address needs to be lowercase without the 0 before the x</li>
<li>Count is decimal</li>
<li>The hex data needs to be lowercase</li>
</ul>
<h3>D4 - Read/Write PIN <a href="https://reprap.org/wiki/G-code#D4:_Read.2FWrite_PIN">D4: Read/Write PIN</a></h3>
<p>To read the digital value of a pin you need only to define the pin number. </p><h4>Usage</h4>
<pre class="fragment">D4 [ P | F | V ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>P</code> - Pin (0-255)</li>
<li><code>F</code> - Function in/out (0/1)</li>
<li><code>V</code> - Value (0/1)</li>
</ul>
<h3>D5 - Read/Write FLASH <a href="https://reprap.org/wiki/G-code#D5:_Read.2FWrite_FLASH">D5: Read/Write Flash</a></h3>
<p>This command can be used without any additional parameters. It will read the 1kb FLASH. </p><h4>Usage</h4>
<pre class="fragment">D5 [ A | C | X | E ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>A</code> - Address (x00000-x3ffff)</li>
<li><code>C</code> - Count (1-8192)</li>
<li><code>X</code> - Data (hex)</li>
<li><code>E</code> - Erase</li>
</ul>
<h4>Notes</h4>
<ul>
<li>The hex address needs to be lowercase without the 0 before the x</li>
<li>Count is decimal</li>
<li>The hex data needs to be lowercase</li>
</ul>
<h3>D6 - Read/Write external FLASH <a href="https://reprap.org/wiki/G-code#D6:_Read.2FWrite_external_FLASH">D6: Read/Write external Flash</a></h3>
<p>Reserved</p>
<h3>D7 - Read/Write Bootloader <a href="https://reprap.org/wiki/G-code#D7:_Read.2FWrite_Bootloader">D7: Read/Write Bootloader</a></h3>
<p>Reserved</p>
<h3>D8 - Read/Write PINDA <a href="https://reprap.org/wiki/G-code#D8:_Read.2FWrite_PINDA">D8: Read/Write PINDA</a></h3>
<h4>Usage</h4>
<pre class="fragment">D8 [ ? | ! | P | Z ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>?</code> - Read PINDA temperature shift values</li>
<li><code>!</code> - Reset PINDA temperature shift values to default</li>
<li><code>P</code> - Pinda temperature [C]</li>
<li><code>Z</code> - Z Offset [mm]</li>
</ul>
<h3>D9 - Read ADC <a href="https://reprap.org/wiki/G-code#D9:_Read.2FWrite_ADC">D9: Read ADC</a></h3>
<h4>Usage</h4>
<pre class="fragment">D9 [ I | V ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>I</code> - ADC channel index<ul>
<li><code>0</code> - Heater 0 temperature</li>
<li><code>1</code> - Heater 1 temperature</li>
<li><code>2</code> - Bed temperature</li>
<li><code>3</code> - PINDA temperature</li>
<li><code>4</code> - PWR voltage</li>
<li><code>5</code> - Ambient temperature</li>
<li><code>6</code> - BED voltage</li>
</ul>
</li>
<li><code>V</code> Value to be written as simulated</li>
</ul>
<h3>D10 - Set XYZ calibration = OK <a href="https://reprap.org/wiki/G-code#D10:_Set_XYZ_calibration_.3D_OK">D10: Set XYZ calibration = OK</a></h3>
<h3>D12 - Time <a href="https://reprap.org/wiki/G-code#D12:_Time">D12: Time</a></h3>
<p>Writes the current time in the log file.</p>
<h3>D20 - Generate an offline crash dump <a href="https://reprap.org/wiki/G-code#D20:_Generate_an_offline_crash_dump">D20: Generate an offline crash dump</a></h3>
<p>Generate a crash dump for later retrival. </p><h4>Usage</h4>
<p>D20 [E]</p>
<h3>Parameters</h3>
<ul>
<li><code>E</code> - Perform an emergency crash dump (resets the printer). <h3>Notes</h3>
</li>
</ul>
<ul>
<li>A crash dump can be later recovered with D21, or cleared with D22.</li>
<li>An emergency crash dump includes register data, but will cause the printer to reset after the dump is completed.</li>
</ul>
<h3>D21 - Print crash dump to serial <a href="https://reprap.org/wiki/G-code#D21:_Print_crash_dump_to_serial">D21: Print crash dump to serial</a></h3>
<p>Output the complete crash dump (if present) to the serial. </p><h4>Usage</h4>
<p>D21</p>
<h3>Notes</h3>
<ul>
<li>The starting address can vary between builds, but it's always at the beginning of the data section.</li>
</ul>
<h3>D22 - Clear crash dump state <a href="https://reprap.org/wiki/G-code#D22:_Clear_crash_dump_state">D22: Clear crash dump state</a></h3>
<p>Clear an existing internal crash dump. </p><h4>Usage</h4>
<p>D22</p>
<h3>D23 - Request emergency dump on serial <a href="https://reprap.org/wiki/G-code#D23:_Request_emergency_dump_on_serial">D23: Request emergency dump on serial</a></h3>
<p>On boards without offline dump support, request online dumps to the serial port on firmware faults. When online dumps are enabled, the FW will dump memory on the serial before resetting. </p><h4>Usage</h4>
<p>D23 [E] [R] </p><h4>Parameters</h4>
<ul>
<li><code>E</code> - Perform an emergency crash dump (resets the printer).</li>
<li><code>R</code> - Disable online dumps.</li>
</ul>
<h2>D70 - Enable low-level temperature model logging for offline simulation</h2>
<h4>Usage</h4>
<pre class="fragment">D70 [ S ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>S</code> - Enable 0-1 (default 0)</li>
</ul>
<h3>D80 - Bed check <a href="https://reprap.org/wiki/G-code#D80:_Bed_check">D80: Bed check</a></h3>
<p>This command will log data to SD card file "mesh.txt". </p><h4>Usage</h4>
<pre class="fragment">D80 [ E | F | G | H | I | J ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>E</code> - Dimension X (default 40)</li>
<li><code>F</code> - Dimention Y (default 40)</li>
<li><code>G</code> - Points X (default 40)</li>
<li><code>H</code> - Points Y (default 40)</li>
<li><code>I</code> - Offset X (default 74)</li>
<li><code>J</code> - Offset Y (default 34)</li>
</ul>
<h3>D81 - Bed analysis <a href="https://reprap.org/wiki/G-code#D81:_Bed_analysis">D80: Bed analysis</a></h3>
<p>This command will log data to SD card file "wldsd.txt". </p><h4>Usage</h4>
<pre class="fragment">D81 [ E | F | G | H | I | J ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>E</code> - Dimension X (default 40)</li>
<li><code>F</code> - Dimention Y (default 40)</li>
<li><code>G</code> - Points X (default 40)</li>
<li><code>H</code> - Points Y (default 40)</li>
<li><code>I</code> - Offset X (default 74)</li>
<li><code>J</code> - Offset Y (default 34)</li>
</ul>
<h3>D106 - Print measured fan speed for different pwm values <a href="https://reprap.org/wiki/G-code#D106:_Print_measured_fan_speed_for_different_pwm_values">D106: Print measured fan speed for different pwm values</a></h3>
<h3>D2130 - Trinamic stepper controller <a href="https://reprap.org/wiki/G-code#D2130:_Trinamic_stepper_controller">D2130: Trinamic stepper controller</a></h3>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Please review by owner of the code. RepRap Wiki Gcode needs to be updated after review of owner as well.</dd></dl>
<h4>Usage</h4>
<pre class="fragment">D2130 [ Axis | Command | Subcommand | Value ]
</pre> <h4>Parameters</h4>
<ul>
<li>Axis<ul>
<li><code>X</code> - X stepper driver</li>
<li><code>Y</code> - Y stepper driver</li>
<li><code>Z</code> - Z stepper driver</li>
<li><code>E</code> - Extruder stepper driver</li>
</ul>
</li>
<li>Commands<ul>
<li><code>0</code> - Current off</li>
<li><code>1</code> - Current on</li>
<li><code>+</code> - Single step</li>
<li><code>-</code> - Single step oposite direction</li>
<li><code>NNN</code> - Value sereval steps</li>
<li><code>?</code> - Read register</li>
<li>Subcommands for read register<ul>
<li><code>mres</code> - Micro step resolution. More information in datasheet '5.5.2 CHOPCONF – Chopper Configuration'</li>
<li><code>step</code> - Step</li>
<li><code>mscnt</code> - Microstep counter. More information in datasheet '5.5 Motor Driver Registers'</li>
<li><code>mscuract</code> - Actual microstep current for motor. More information in datasheet '5.5 Motor Driver Registers'</li>
<li><code>wave</code> - Microstep linearity compensation curve</li>
</ul>
</li>
<li><code>!</code> - Set register</li>
<li>Subcommands for set register<ul>
<li><code>mres</code> - Micro step resolution</li>
<li><code>step</code> - Step</li>
<li><code>wave</code> - Microstep linearity compensation curve</li>
<li>Values for set register<ul>
<li><code>0, 180 --&gt; 250</code> - Off</li>
<li><code>0.9 --&gt; 1.25</code> - Valid values (recommended is 1.1)</li>
</ul>
</li>
</ul>
</li>
<li><code>@</code> - Home calibrate axis</li>
</ul>
</li>
</ul>
<p>Examples: </p><pre class="fragment">  D2130E?wave
</pre><p> Print extruder microstep linearity compensation curve </p><pre class="fragment">D2130E!wave0
</pre><p> Disable extruder linearity compensation curve, (sine curve is used) </p><pre class="fragment">D2130E!wave220
</pre><p> (sin(x))^1.1 extruder microstep compensation curve used</p>
<p>Notes: For more information see <a href="https://www.trinamic.com/fileadmin/assets/Products/ICs_Documents/TMC2130_datasheet.pdf">https://www.trinamic.com/fileadmin/assets/Products/ICs_Documents/TMC2130_datasheet.pdf</a></p>
<h3>D9125 - PAT9125 filament sensor <a href="https://reprap.org/wiki/G-code#D9:_Read.2FWrite_ADC">D9125: PAT9125 filament sensor</a></h3>
<h4>Usage</h4>
<pre class="fragment">D9125 [ ? | ! | R | X | Y | L ]
</pre> <h4>Parameters</h4>
<ul>
<li><code>?</code> - Print values</li>
<li><code>!</code> - Print values</li>
<li><code>R</code> - Resolution. Not active in code</li>
<li><code>X</code> - X values</li>
<li><code>Y</code> - Y values</li>
<li><code>L</code> - Activate filament sensor log</li>
</ul>
<h4>End of D-Codes</h4>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
